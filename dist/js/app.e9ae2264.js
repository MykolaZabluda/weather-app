(function(){var t={6700:function(t,s,e){var a={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function n(t){var s=i(t);return e(s)}function i(t){if(!e.o(a,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id=6700},7202:function(t,s,e){"use strict";var a=e(144),n=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("img",{attrs:{alt:"Vue logo",src:e(6949)}}),s("CardBlock")],1)},i=[],r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrapper",attrs:{id:"wrapper"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showAlert,expression:"showAlert"}],staticClass:"alert"},[t._v(" To many cards ")]),s("div",{staticClass:"input-container"},[s("div",{staticClass:"select-city",attrs:{id:"selectCity"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCity,expression:"searchCity"}],staticClass:"input",attrs:{id:"field",type:"text",pattern:"\\d*",placeholder:"Search city"},domProps:{value:t.searchCity},on:{input:[function(s){s.target.composing||(t.searchCity=s.target.value)},t.setup]}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.cities,expression:"cities"}],staticClass:"dropdown-cities"},t._l(t.cities,(function(e){return s("div",{attrs:{id:`city-${t.i}`},on:{click:function(s){return t.setCityCard(e)}}},[t._v(" "+t._s(e)+" ")])})),0)])]),s("div",{staticClass:"cards-block"},t._l(t.info,(function(a,n){return s("div",{staticClass:"card card-1",attrs:{id:`card-${n}`},on:{click:function(s){return t.setChartByCity(a.name)}}},[s("div",{staticClass:"delete",attrs:{id:"delete"},on:{click:function(s){return t.deleteCityCard(n)}}},[s("img",{staticClass:"close",attrs:{id:"close",src:e(5860)}})]),s("h3",{staticClass:"town-name"},[t._v(t._s(a.name))]),s("p",{staticClass:"status"},[t._v(t._s(a.weather[0].main)),s("span",[t._v("Sunrise "+t._s(t._f("formatDate")(a.sys.sunrise))+" "),s("span",{staticClass:"dot"},[t._v("•")]),t._v(" Sunset "+t._s(t._f("formatDate")(a.sys.sunset)))])]),s("p",{staticClass:"temperature"},[t._v(t._s(t._f("formatTemp")(a.main.temp))+"°C")])])})),0),s("LineChart",{ref:"selectCity",staticClass:"chart"})],1)},o=[],c=e(6154),l=function(){var t=this,s=t._self._c;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.chart,expression:"chart"}]},[s("canvas",{attrs:{id:"line-chart"}})])},u=[],h=e(7757),d=e.n(h),j={name:"LineChart",data(){return{chart:null,city:"",dates:[],temps:[],loading:!1,errored:!1}},mounted(){this.setChart()},methods:{setChart(){this.loading=!0,null!=this.chart&&this.chart.destroy(),c.Z.get("https://api.openweathermap.org/data/2.5/forecast?units=metric",{params:{q:this.city,appid:"9f2b2e8cd60541bbd9ad927b1a5cda93"}}).then((t=>{this.dates=t.data.list.map((t=>t.dt_txt)),this.temps=t.data.list.map((t=>t.main.temp));const s=document.getElementById("line-chart");this.chart=new(d())(s,{type:"line",data:{labels:this.dates,datasets:[{label:"Avg. Temp",backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgb(54, 162, 235)",fill:!1,data:this.temps}]},options:{title:{display:!1},tooltips:{callbacks:{label:function(t,s){var e=s.datasets[t.datasetIndex].label||"";return e&&(e+=": "),e+=Math.floor(t.yLabel),e+"°C"}}},scales:{xAxes:[{type:"time",time:{unit:"hour",displayFormats:{hour:"DD/MM/YY, HH:mm"},tooltipFormat:"MMM. DD YYYY, HH:mm"},scaleLabel:{display:!0,labelString:"Date/Time"}}],yAxes:[{scaleLabel:{display:!0,labelString:"Temperature (°C)"},ticks:{callback:function(t,s,e){return t+"°C"}}}]}}})})).catch((t=>{console.log(t),this.errored=!0})).finally((()=>this.loading=!1))},setCityValue:function(t){this.city=t,this.setChart()}}},p=j,m=e(1001),f=(0,m.Z)(p,l,u,!1,null,null,null),y=f.exports,v=e(8260),b={components:{LineChart:y},data(){return{info:[],clientCity:"",cities:[],searchCity:"",showAlert:!1}},mounted(){this.getClientIP()},filters:{formatDate:function(t){return(0,v.Z)(new Date(1e3*t),"HH:mm")},formatTemp:function(t){return Math.round(t)}},methods:{getClientIP(){c.Z.get("https://ipapi.co/json/",{headers:{"Content-Type":"application/json"}}).then((t=>{this.clientCity=t.data.city,this.setChartByCity(this.clientCity),this.getWeatherByCity(this.clientCity),this.getForecast(this.clientCity)}))},getWeatherByCity(t){c.Z.get(`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=metric&appid=9f2b2e8cd60541bbd9ad927b1a5cda93`,{headers:{"Content-Type":"application/json"}}).then((t=>{this.info.length<5?this.info.push(t.data):(this.showAlert=!0,setTimeout((()=>{this.showAlert=!1}),2e3))}))},getForecast(t){c.Z.get(`https://api.openweathermap.org/data/2.5/forecast?q=${t}&units=metric&appid=9f2b2e8cd60541bbd9ad927b1a5cda93`,{headers:{"Content-Type":"application/json"}}).then((t=>console.log(t)))},setChartByCity:function(t){this.$refs.selectCity.setCityValue(t)},setup(){return c.Z.get(`https://api.openweathermap.org/geo/1.0/direct?q={${this.searchCity}}&units=metric&limit=10&appid=9f2b2e8cd60541bbd9ad927b1a5cda93`,{headers:{"Content-Type":"application/json"}}).then((t=>{this.cities=[],t.data.forEach((t=>{this.cities.push(t.name),console.log(this.cities)}))})),console.log(this.cities),this.cities},setCityCard(t){this.getWeatherByCity(t)},deleteCityCard(t){this.info.splice(t,1)}},watch:{search(t){this.getCities(t)}}},g=b,C=(0,m.Z)(g,r,o,!1,null,null,null),w=C.exports,k={name:"App",components:{CardBlock:w}},_=k,x=(0,m.Z)(_,n,i,!1,null,null,null),z=x.exports;a.ZP.config.productionTip=!1,new a.ZP({render:function(t){return t(z)}}).$mount("#app")},5860:function(t,s,e){"use strict";t.exports=e.p+"img/close.4b915779.svg"},6949:function(t,s,e){"use strict";t.exports=e.p+"img/logo.d834a308.png"}},s={};function e(a){var n=s[a];if(void 0!==n)return n.exports;var i=s[a]={id:a,loaded:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}e.m=t,function(){var t=[];e.O=function(s,a,n,i){if(!a){var r=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],i=t[u][2];for(var o=!0,c=0;c<a.length;c++)(!1&i||r>=i)&&Object.keys(e.O).every((function(t){return e.O[t](a[c])}))?a.splice(c--,1):(o=!1,i<r&&(r=i));if(o){t.splice(u--,1);var l=n();void 0!==l&&(s=l)}}return s}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,n,i]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){e.p="/weather-app/"}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var n,i,r=a[0],o=a[1],c=a[2],l=0;if(r.some((function(s){return 0!==t[s]}))){for(n in o)e.o(o,n)&&(e.m[n]=o[n]);if(c)var u=c(e)}for(s&&s(a);l<r.length;l++)i=r[l],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(u)},a=self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[998],(function(){return e(7202)}));a=e.O(a)})();
//# sourceMappingURL=app.e9ae2264.js.map